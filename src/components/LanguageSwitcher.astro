---
/* nessuna prop */
---
<div class="fixed top-4 right-6 z-50">
  <a id="lang-btn"
     class="flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-[var(--accent-color)]
            transition-colors bg-white/80 backdrop-blur-sm px-3 py-1.5 rounded-full shadow"
     href="/">
    <span id="lang-flag" class="emoji"></span>
    <span id="lang-label" class="hidden sm:inline"></span>
  </a>
</div>

<script is:inline>
  (function () {
    const onIt = location.pathname.startsWith('/it');
    const next = onIt ? 'en' : 'it';
    const btn  = document.getElementById('lang-btn');
    const flag = document.getElementById('lang-flag');
    const label= document.getElementById('lang-label');

    // UI del bottone
    flag.textContent  = onIt ? 'ðŸ‡¬ðŸ‡§' : 'ðŸ‡®ðŸ‡¹';
    label.textContent = onIt ? 'English' : 'Italiano';
    btn.setAttribute('href', next === 'it' ? '/it/' : '/');

    // salva preferenza quando clicchi
    btn.addEventListener('click', () => {
      try { localStorage.setItem('lang', next); } catch(_) {}
    }, { passive: true });
  })();
</script>

<style is:inline>
  /* usa un font emoji, non quello monospazio del sito */
  .emoji { font-family: "Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji",system-ui,sans-serif; }
</style>
